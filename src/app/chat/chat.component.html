
<form (ngSubmit)="onSubmit()" #chat="ngForm">
	<div class="chat-stream" #chatStream>
		<div *ngFor="let c of chats trackBy tracker">
			<div class="chat-item d-flex align-items-center">

				<div class="chat-author-group d-flex flex-column justify-content-center align-items-center">
					<img [src]="c.from.picture.medium" class="chat-thumbnail"/>
				</div>

				<div class="chat-message-group">
					<div class="chat-message">{{ c.text }}</div>
					<div class="chat-name">{{ c.from.name.first | titlecase }}</div>
				</div>

			</div>
		</div>
		<a id="endOfChat"></a>
	</div>

	<div class="chat-control">
		<div class="form-group">
			<div class="input-group">
					<div class="input-group-prepend">
						<img [src]="author?.picture?.thumbnail" class="author-thumbnail"/>
					</div>
                <p-autoComplete name="message" inputStyleClass="auto-input" scrollHeight="80px" panelStyleClass="auto-panel" [(ngModel)]="selectedUser.username" [suggestions]="users" (onSelect)="onUserSelected($event)" (completeMethod)="searchUsers($event)">
                    <ng-template let-user pTemplate="item">
                        <div>
                            <img src={{user.thumbnailUrl}} class="user-thumbnail"/>
                            <span class="full-name">{{ user.firstName + ' ' + user.lastName }}</span>
                            <span class="username">{{ ' ' + user.username }}</span>
                        </div>
                    </ng-template>
                </p-autoComplete>
				<div class="input-group-append">
					<button type="submit" class="btn btn-primary btn-success">Send</button>
				</div>
			</div>
		</div>
	</div>
</form>
